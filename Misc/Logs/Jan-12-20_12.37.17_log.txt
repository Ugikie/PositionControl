cprintf('strings','Saving log to: %s\n',logFile);
Saving log to: /home/ugikie/Desktop/PositionControl/Misc/Logs/Jan-12-20_12.37.17_log.txt
fprintf('\n');

%===================================SETUP=================================%
% Specify the virtual serial port created by USB driver. It is currently
% configured to work for a Mac, so if a PC is being used this will need to
% be changed (e.g., to a port such as COM3)
MI4190 = serial('/dev/ttyUSB0');                 % Linux
    %if it does not work on linux, you may have to run the command:
    % 'sudo chmod 666 /dev/ttyUSB0' to enable permissions.
%MI4190 = serial('/dev/tty.usbserial-PX2DN8ZM'); % Mac
%MI4190 = serial('COM3');                        % PC

% Prologix Controller 4.2 requires CR as command terminator, LF is
% optional. The controller terminates internal query responses with CR and
% LF. Responses from the instrument are passed through as is. (See Prologix
% Controller Manual)
MI4190.Terminator = 'CR/LF';

% Reduce timeout to 0.5 second (default is 10 seconds)
MI4190.Timeout = 0.5;

% Open virtual serial port
fclose(MI4190);
fopen(MI4190);

pause(1)

warning('off','MATLAB:serial:fread:unsuccessfulRead');

% Configure as Controller (++mode 1), instrument address 4, and with
% read-after-write (++auto 1) enabled
fprintf(MI4190, '++mode 1');
fprintf(MI4190, '++addr 4');
fprintf(MI4190, '++auto 1');

% Read the id of the Controller to verify connection:

fprintf(MI4190, '*cls');
fprintf(MI4190, '*idn?');
idn = char(fread(MI4190, 100))'

idn =

  0Ã—1 empty <a href="matlab:helpPopup char" style="font-weight:bold">char</a> array

fclose(MI4190);
cprintf('strings','Log saved to: %s\n',logFile);
Log saved to: /home/ugikie/Desktop/PositionControl/Misc/Logs/Jan-12-20_12.37.17_log.txt
diary off;
